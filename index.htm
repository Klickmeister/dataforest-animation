<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>MotionCraft Studio</title>
  <script src="anime.min.js"></script>
  <style>
    @font-face {
      font-family: 'Satoshi Local';
      src: url('satoshi-fonts/65843083b5fa02f7c75b3d32_Satoshi-Regular.woff2') format('woff2');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: 'Satoshi Local';
      src: url('satoshi-fonts/65843083e526bb31f8258247_Satoshi-Medium.woff2') format('woff2');
      font-weight: 500;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: 'Satoshi Local';
      src: url('satoshi-fonts/65843083da15735bfe228e37_Satoshi-Bold.woff2') format('woff2');
      font-weight: 700;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: 'Baskervville Local';
      src: url('baskervville/65842fdcd7f9182a33c4a733_baskervville-v16-latin-regular.woff2') format('woff2');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }

    :root {
      font-family: 'Satoshi Local', 'Satoshi', 'Arial', sans-serif;
      color: #e8ecf7;
      line-height: 1.6;
      background-color: #05070f;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      background: #05070f;
      color: #dce2f2;
      overflow-x: hidden;
    }

    a {
      color: inherit;
    }

    .content-frame {
      width: min(1200px, 92vw);
      margin: 0 auto;
    }

    .site-header {
      position: sticky;
      top: 0;
      z-index: 10;
      background: rgba(5, 7, 15, 0.7);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .header-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 0;
      gap: 24px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-logo {
      height: 32px;
      width: auto;
      display: block;
    }

    h1, h2, h3, h4, .section-title {
      font-family: 'Baskervville Local', 'Baskervville', 'Times New Roman', serif;
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 16px;
      flex: 1;
      justify-content: flex-end;
    }

    .nav-links a {
      text-decoration: none;
      font-weight: 600;
      color: #f6f8ff;
      opacity: 0.9;
      padding: 8px 10px;
      border-radius: 0;
      transition: color 0.2s ease, opacity 0.2s ease, background-color 0.2s ease;
    }

    .nav-links a:hover,
    .nav-links a:focus-visible {
      color: #7df5d8;
      opacity: 1;
      background: rgba(255, 255, 255, 0.08);
    }

    .nav-cta {
      padding: 12px 18px;
      border-radius: 0;
      border: 1px solid #dbe2ee;
      background: #f4f6fb;
      color: #0d172d;
      font-weight: 700;
      letter-spacing: 0.01em;
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.12);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
      white-space: nowrap;
    }

    .nav-cta:hover,
    .nav-cta:focus-visible {
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.14);
      opacity: 0.98;
      background: #f8faff;
      border-color: #c7d0df;
    }

    main {
      padding-top: 10px;
    }

    .hero {
      position: relative;
      padding: 120px 0 100px;
      background: linear-gradient(145deg, rgba(5, 7, 15, 0.92) 25%, rgba(5, 7, 15, 0.7) 55%, rgba(5, 7, 15, 0.9) 100%), url('https://cdn.prod.website-files.com/657963ba9028af7c76710c4c/67ac840c5e369effb89a0bb6_home-poster-00001.jpg');
      background-size: cover;
      background-position: center;
      overflow: hidden;
      color: #f6f8ff;
    }

    .hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(60% 60% at 80% 30%, rgba(126, 144, 255, 0.22), transparent 60%);
      pointer-events: none;
    }

    .hero::after {
      content: '';
      position: absolute;
      inset: 0;
      background:
        radial-gradient(70% 70% at 15% 30%, rgba(111, 255, 174, 0.28), transparent 55%),
        radial-gradient(40% 40% at 70% 10%, rgba(79, 216, 255, 0.18), transparent 60%);
      mix-blend-mode: screen;
      pointer-events: none;
    }

    .hero-grid {
      display: grid;
      grid-template-columns: minmax(260px, 1fr) minmax(520px, 2fr);
      align-items: center;
      gap: 48px;
      position: relative;
      z-index: 1;
    }

    .hero-copy {
      max-width: 560px;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.08);
      color: #7df5d8;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .hero-copy h1 {
      font-size: clamp(2.6rem, 4vw, 3.8rem);
      margin: 16px 0 14px;
      line-height: 1.2;
      letter-spacing: -0.01em;
    }

    .hero-copy p {
      margin: 0 0 26px;
      color: #c6ccdb;
      max-width: 540px;
    }

    .cta {
      display: inline-flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .cta a {
      text-decoration: none;
      font-weight: 700;
      letter-spacing: 0.01em;
      padding: 13px 22px;
      border-radius: 0;
      border: 1px solid #dbe2ee;
      background: #f4f6fb;
      color: #0d172d;
      transition: transform 0.2s ease, background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }

    .cta .primary {
      background: #f4f6fb;
      color: #0d172d;
      border-color: #dbe2ee;
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.12);
    }

    .cta .secondary {
      color: #1f2433;
      background: rgba(244, 246, 251, 0.4);
      border-color: #dbe2ee;
    }

    .cta a:hover,
    .cta a:focus-visible {
      transform: translateY(-2px);
      border-color: #c7d0df;
      background: #f8faff;
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.14);
    }

    .cta a:active {
      transform: translateY(0);
    }

    .cta svg {
      width: 18px;
      height: 18px;
    }

    .hero-visual {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: stretch;
    }

    #canvas {
      width: 100%;
      max-width: 960px;
      aspect-ratio: 16 / 9;
      margin: 0;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 0;
      position: relative;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.35);
      display: flex;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(6px);
    }

    #canvas-art {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      transform: translateX(-20%);
    }

    #canvas-art path {
      transform-box: fill-box;
      transform-origin: center;
    }

    #tree-icon {
      opacity: 0;
      transform-box: fill-box;
      transform-origin: center;
    }

    #star {
      opacity: 0;
      transform-box: fill-box;
      transform-origin: center;
    }

    #tree-spin {
      opacity: 1;
      transform-box: fill-box;
      transform-origin: center;
    }

    #brace-left,
    #brace-right {
      opacity: 0;
      transform: scale(0.8);
      transform-box: fill-box;
      transform-origin: center;
    }

    .stage-grid {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.25s ease;
    }

    #canvas.show-grid .stage-grid {
      opacity: 1;
    }

    .stage-grid line {
      stroke: rgba(255, 255, 255, 0.22);
      stroke-width: 1;
    }

    .stage-grid .axis {
      stroke: rgba(125, 245, 216, 0.85);
      stroke-width: 1.5;
    }

    .canvas-note {
      margin: 0;
      font-size: 0.9rem;
      color: #9cacd0;
    }

    @media (max-width: 900px) {
      #canvas {
        max-width: 100%;
      }

      nav a {
        margin-left: 14px;
      }

      .site-header {
        background: rgba(5, 7, 15, 0.9);
      }

      .hero-grid {
        grid-template-columns: 1fr;
      }
    }

    .canvas-caption {
      position: absolute;
      right: 4%;
      top: 50%;
      transform: translateY(-50%);
      font-family: 'Satoshi Local', 'Satoshi', 'Arial', sans-serif;
      font-size: clamp(1.6rem, 4vw, 3.6rem);
      font-weight: 600;
      text-align: left;
      line-height: 1;
      display: flex;
      flex-direction: column;
      gap: 0.35em;
      pointer-events: none;
      color: #f8fbff;
      width: 22%;
      min-width: 120px;
    }

    .canvas-caption span {
      display: block;
      opacity: 0;
      transform: translateY(15px);
    }

    section {
      padding: 90px 0;
      background: #060912;
    }

    .section-title {
      font-size: 2rem;
      margin-top: 0;
      margin-bottom: 20px;
      color: #f6f8ff;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 24px;
    }

    .card {
      background: rgba(255, 255, 255, 0.04);
      padding: 24px;
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.35);
      color: #dce2f2;
    }

    .card h4 {
      margin: 0 0 10px;
      color: #f6f8ff;
    }

    .card p {
      margin: 0;
      color: #9cacd0;
    }

    .section-light {
      background: #f5f7fb;
      color: #0c1020;
    }

    .section-light .section-title,
    .section-light h4,
    .section-light h3 {
      color: #0c1020;
    }

    .section-light p {
      color: #4a5266;
    }

    .section-light .card {
      background: white;
      border-color: rgba(17, 17, 17, 0.08);
      box-shadow: 0 10px 35px rgba(0, 0, 0, 0.08);
      color: #1f2433;
    }

    .section-light .cta .secondary {
      color: #0c1020;
      background: #f4f6fb;
      border-color: #dbe2ee;
    }

    footer {
      text-align: center;
      padding: 24px;
      color: #6d7a98;
      background: #04060c;
      border-top: 1px solid rgba(255, 255, 255, 0.05);
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="content-frame header-inner">
      <div class="brand">
        <img src="dataforest-logo.svg" alt="dataforest Logo" class="brand-logo">
      </div>
      <nav class="nav-links">
        <a href="#services">Services</a>
        <a href="#work">Referenzen</a>
        <a href="#contact">Kontakt</a>
        <a href="https://www.dataforest.net/blog" target="_blank" rel="noopener">Blog</a>
        <a href="#contact" class="nav-cta">
          <span>Beratung sichern</span>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" width="16" height="16">
            <path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z" fill="currentColor"/>
          </svg>
        </a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="content-frame hero-grid">
        <div class="hero-copy">
          <h1>In 3 Minuten in die Cloud.</h1>
          <p>Mit dataforest sind Sie in Minuten in der Cloud: sichere Infrastruktur, betreut von unserem Team, bereit für Ihren nächsten Release.</p>
          <div class="cta">
            <a href="#contact" class="primary">
              <span>Jetzt starten</span>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                <path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z" fill="currentColor"/>
              </svg>
            </a>
           </div>
        </div>
        <div class="hero-visual">
          <div id="canvas">
            <svg id="canvas-art" viewBox="0 0 480 270" preserveAspectRatio="xMidYMid meet" xmlns:xlink="http://www.w3.org/1999/xlink">
              <path id="brace-right" d="M255.236 149.482H252.698V145.585H254.116C254.911 145.585 255.435 145.088 255.435 143.968V137.897C255.435 135.326 256.588 133.934 258.735 133.245C256.588 132.549 255.435 131.164 255.435 128.592V122.521C255.435 121.401 254.905 120.904 254.116 120.904H252.698V117.007H255.236C258.073 117.007 260.054 118.757 260.054 121.527V127.896C260.054 130.143 261.406 131.263 263.719 131.263V135.226C261.406 135.226 260.054 136.346 260.054 138.593V144.962C260.054 147.733 258.073 149.482 255.236 149.482Z" fill="#ffffff"/>
              <path id="brace-left" d="M216 135.219V131.256C218.313 131.256 219.665 130.136 219.665 127.889V121.52C219.665 118.75 221.647 117 224.483 117H227.022V120.897H225.604C224.808 120.897 224.285 121.394 224.285 122.514V128.585C224.285 131.157 223.131 132.549 220.984 133.238C223.131 133.934 224.285 135.319 224.285 137.89V143.961C224.285 145.081 224.815 145.579 225.604 145.579H227.022V149.482H224.483C221.647 149.482 219.665 147.733 219.665 144.962V138.593C219.665 136.346 218.313 135.219 216 135.219Z" fill="#ffffff"/>
              <g id="mark-container" transform="translate(240 135)">
                 <g id="star" >
                   <path d="M33.084375,43.3615581 L39.52875,38.9215581 L34.78875,31.7571831 C33.70875,30.0934331 32.66875,28.7315581 31.66875,27.6715581 C30.66875,26.6115581 29.524375,25.5615581 28.235625,24.5215581 C29.595625,24.3378081 31.07375,24.1018706 32.67,23.8137456 C34.26625,23.5256206 35.9925,23.0496831 37.84875,22.3859331 L46.044375,19.4928081 L43.2,12.1128081 L35.364375,14.7171831 C33.315625,15.4046831 31.6275,16.1165581 30.3,16.8528081 C28.9725,17.5890581 27.7125,18.3690581 26.52,19.1928081 C26.84,17.7853081 27.0940625,16.2974956 27.2821875,14.7293706 C27.4703125,13.1612456 27.564375,11.3690581 27.564375,9.3528081 L27.564375,0.832808099 L19.69125,0.832808099 L19.69125,9.3528081 C19.69125,11.3690581 19.79125,13.1412456 19.99125,14.6693706 C20.19125,16.1974956 20.45125,17.7053081 20.77125,19.1928081 C19.5475,18.3128081 18.2878125,17.5187456 16.9921875,16.8106206 C15.6965625,16.1024956 14.0125,15.4046831 11.94,14.7171831 L4.18875,12.1484331 L1.33125,19.4928081 L9.40875,22.3859331 C11.2,23.0009331 12.8315625,23.4584331 14.3034375,23.7584331 C15.7753125,24.0584331 17.3475,24.3128081 19.02,24.5215581 C17.8125,25.5615581 16.6965625,26.6034331 15.6721875,27.6471831 C14.6478125,28.6909331 13.54,30.0609331 12.34875,31.7571831 L7.44,38.9215581 L13.92,43.3615581 L19.03125,36.5328081 C20.08,35.1253081 20.9784375,33.7015581 21.7265625,32.2615581 C22.4746875,30.8215581 23.060625,29.3496831 23.484375,27.8459331 C23.988125,29.0934331 24.598125,30.4212456 25.314375,31.8293706 C26.030625,33.2374956 27.000625,34.8053081 28.224375,36.5328081 L33.084375,43.3615581 Z" fill="#ffffff"/>
                </g>
                <g id="tree-spin" transform="translate(-35 -74.5) scale(0.4)">
                  <polygon class="arrow-top" fill="#FFFFFF" opacity="0" points="34.4996918 0 60 26.5989693 48.1109527 39 34.4996918 24.8020556 20.8884308 39 9 26.5989693"></polygon>
                  <polygon class="arrow-mid" fill="#FFFFFF" opacity="0" points="34.9998893 36 65 67.6270998 53.2630874 80 34.9998893 60.7462671 16.73647 80 5 67.6270998"></polygon>
                  <polygon class="arrow-bottom" fill="#FFFFFF" opacity="1" points="35.0000278 73 70 109.649275 58.2050867 122 35.0000278 97.7014496 11.7950245 122 0 109.649275"></polygon>
                  <polygon class="tree-block" fill="#FFFFFF" opacity="1" points="26 149 26 116 43 116 43 149"></polygon>
                </g>
              </g>
              <image id="logo-mark" href="dataforest-logo.svg" x="144" y="50" width="230" height="160" opacity="0" preserveAspectRatio="xMidYMid meet" />
            </svg>
            <svg class="stage-grid" viewBox="0 0 480 270" preserveAspectRatio="none">
              <line x1="120" y1="0" x2="120" y2="270" />
              <line x1="240" y1="0" x2="240" y2="270" class="axis" />
              <line x1="360" y1="0" x2="360" y2="270" />
              <line x1="0" y1="67.5" x2="480" y2="67.5" />
              <line x1="0" y1="135" x2="480" y2="135" class="axis" />
              <line x1="0" y1="202.5" x2="480" y2="202.5" />
            </svg>
            <div class="canvas-caption">
              <span id="word-klick-1">Klick</span>
              <span id="word-klick-2">Klick</span>
              <span id="word-fertig">Läuft</span>
            </div>
          </div>
         </div>
      </div>
    </section>

    <section id="services" class="section-light">
      <div class="content-frame">
        <h3 class="section-title">Was wir animieren</h3>
        <div class="grid">
          <div class="card">
            <h4>Hero Experiences</h4>
            <p>Interaktive Hero-Bühnen, die Besucher:innen sofort fesseln und zur Interaktion einladen.</p>
          </div>
          <div class="card">
            <h4>Microinteractions</h4>
            <p>UX-Details, die Buttons, Formulare und Navigations-Elemente lebendig und intuitiv machen.</p>
          </div>
          <div class="card">
            <h4>Explainer Visuals</h4>
            <p>Abstrakte Formen erklären komplexe Produkte – leicht, elegant und einprägsam.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="work">
      <div class="content-frame">
        <h3 class="section-title">Showcase</h3>
        <p>Wir setzen auf klare Formen, reduzierte Farbwelten und präzise Timings. Jede Szene wird iterativ entwickelt, bis sie sich völlig natürlich anfühlt.</p>
      </div>
    </section>

    <section id="contact" class="section-light">
      <div class="content-frame">
        <h3 class="section-title">Bereit für Bewegung?</h3>
        <p>Schreib uns deine Idee – wir entwickeln eine Motion-Story, die dein Produkt erlebbar macht.</p>
        <div class="cta">
          <a href="mailto:hello@motioncraft.studio" class="primary">hello@motioncraft.studio</a>
          <a href="tel:+49123456789" class="secondary">+49 123 456789</a>
        </div>
      </div>
    </section>
  </main>

  <footer>
    © 2025 Designed with Anime.js
  </footer>

  <script>
    const debugMode = new URLSearchParams(location.search).get('debug') === '1';

    function resetSprites() {
      anime.set(['#brace-left', '#brace-right'], {
        opacity: 0,
        scale: 0.8,
        translateX: 0
      });
      anime.set('#star', { opacity: 0, scale: 1, rotate: 0 });
      anime.set('#tree-spin', { opacity: 0 });
      anime.set(['#word-klick-1', '#word-klick-2', '#word-fertig'], {
        opacity: 0,
        translateY: 15
      });
      anime.set('#tree-spin .arrow-mid, #tree-spin .arrow-top', { opacity: 0 });
      anime.set('#tree-spin .arrow-bottom, #tree-spin .tree-block', { opacity: 1 });
    }

    resetSprites();

    const timeline = anime.timeline({
      loop: true,
      autoplay: !debugMode
    });

    if (debugMode) {
      anime.set(['#brace-left', '#brace-right', '#star', '#logo-mark', '#word-klick-1', '#word-klick-2', '#word-fertig'], {
        opacity: 1,
        scale: 1,
        translateX: 0,
        translateY: 0
      });
      anime.set('#tree-spin', { opacity: 1 });
      anime.set('#tree-spin .arrow-mid, #tree-spin .arrow-top', { opacity: 1 });
    }

    timeline
      .add({
        targets: '#star',
        opacity: 0,
        duration: 0
      })
      .add({
        targets: '#word-klick-1',
        opacity: [0, 1],
        translateY: [15, 0],
        duration: 800,
        easing: 'easeOutQuad'
      })
      .add({
        targets: ['#brace-left', '#brace-right'],
        opacity: [0, 1],
        scale: [2, 2],
        duration: 10,
        easing: 'linear',
        offset: '+=150'
      })
      .add({
        targets: '#word-klick-2',
        opacity: [0, 1],
        translateY: [15, 0],
        duration: 700,
        easing: 'easeOutQuad'
      })
      .add({
        targets: ['#brace-left', '#brace-right'],
        translateX: function(el, i) {
          return i === 0 ? -24 : 24;
        },
        duration: 700,
        easing: 'easeInQuad',
        offset: '-=400'
      })
      .add({
        targets: '#star',
        // postionieren
        translateX: -35,
        translateY: -20,
        scale: 0.8,

      })
      
      .add({
        targets: '#star',
        opacity: [1, 0],
        duration: 900,
        easing: 'linear'
      })
      .add({
        targets: '#tree-spin',
        opacity: [0, 1],
        duration: 400,
        easing: 'easeOutQuad'
      })
      .add({
        targets: '#tree-spin .arrow-mid',
        opacity: [0, 1],
        duration: 350,
        easing: 'easeOutQuad'
      })
      .add({
        targets: '#tree-spin .arrow-top',
        opacity: [0, 1],
        duration: 350,
        easing: 'easeOutQuad'
      })
      .add({
        targets: ['#brace-left', '#brace-right'],
        translateX: function(el, i) {
          return i === 0 ? -14 : 14;
        },
        duration: 500,
        easing: 'easeInQuad'
      })
      .add({
        targets: '#word-fertig',
        opacity: [0, 1],
        translateY: [15, 0],
        duration: 700,
        easing: 'easeOutQuad',
        offset: '+=150'
      })
      .add({
        targets: ['#brace-left', '#brace-right', '#tree-spin'],
        opacity: 0,
        duration: 10,
        easing: 'linear'
      })
      .add({
        targets: '#logo-mark',
        opacity: [0, 1],
        scale: [1, 1],
        duration: 400,
        easing: 'linear'
      })
      .add({
        // Hold the logo visible for 5 seconds before fade-out
        targets: '#logo-mark',
        duration: 5000,
        easing: 'linear'
      })
      .add({
        targets: ['#word-klick-1', '#word-klick-2', '#word-fertig', '#logo-mark'],
        opacity: [1, 0],
        duration: 700,
        easing: 'easeOutQuad',
        delay: 400
      })
      .add({
        targets: ['#brace-left', '#brace-right'],
        translateX: 0,
        duration: 10
      })
      .add({
        targets: ['#word-klick-1', '#word-klick-2', '#word-fertig'],
        translateY: 15,
        duration: 10
      })
      .add({
        targets: ['#word-klick-1', '#word-klick-2', '#word-fertig'],
        opacity: 0,
        duration: 10,
        easing: 'linear'
      });

    const canvas = document.getElementById('canvas');

    canvas.addEventListener('click', function(evt) {
      evt.stopPropagation();
      canvas.classList.toggle('show-grid');
    });

    document.body.addEventListener('click', function(evt) {
      const isInteractive = evt.target.closest('a, button, input, textarea, select, option');
      const insideCanvas = evt.target.closest('#canvas');
      if (!isInteractive && !insideCanvas) {
        location.reload();
      }
    });

    // Poll for file changes via Last-Modified/ETag and reload on change (works over http/https)
    (function setupAutoReload() {
      if (location.protocol === 'file:') return;
      let lastMod = null;
      async function check() {
        try {
          const res = await fetch(location.href, { method: 'HEAD', cache: 'no-store' });
          const mod = res.headers.get('last-modified') || res.headers.get('etag');
          if (mod && lastMod && mod !== lastMod) location.reload();
          if (mod) lastMod = mod;
        } catch (e) {
          // ignore network errors
        }
      }
      setInterval(check, 2000);
    })();
  </script>
</body>
</html>
